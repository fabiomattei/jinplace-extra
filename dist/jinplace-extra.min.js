/*
 jinplace-extra - MIT Licence */
$.fn.jinplace.editors["extra:checkbox"]={blurAction:"ignore",makeField:function(c,e){var b;"["==e.charAt(0)&&(b=$.parseJSON(e));if(!b||2>b.length)b=["No","Yes"];this.choices=b;var a=$("<input type=checkbox>"),d=navigator.userAgent.match(/(ipad|ipod|iphone)/i),f=!1;a.on("click",function(a){a.stopPropagation()}).on("change",function(b){a.focus()});d&&(a.on("touchstart",function(a){f=!0;setTimeout(function(){f=!1},300)}),$(document).off("touchstart.jip").on("touchstart.jip",function(a){f||c.find("form").trigger("submit")}));
this.blurEvent(a,a,"submit");d=$.trim(c.text());a.attr("checked",d==b[1]);return a},value:function(){return this.inputField.prop("checked")?1:0},displayValue:function(c){return this.choices["0"!=c?1:0]},finish:function(){$(document).off("touchstart.jip")}};
$.fn.jinplace.editors["extra:checkbox_demo"]={blurAction:"ignore",makeField:function(c,e){var b=$("<label/>"),a=$('<input type="checkbox">');b.append(a);var d=$.trim(c.text()),f;f="["==e.charAt(0)?$.parseJSON(e):["No","Yes"];a.attr("checked",f[1]==d);d=$("<span>"+d+"</span>");b.append(d);this.choices=f;this.inputField=a;this.label=b;this.textNode=d;return b},activate:function(c,e){var b=this;e.focus();this.label.on("click",function(a){a.stopPropagation()}).on("change",function(a){a=b.inputField.prop("checked");
b.textNode.text(b.choices[a?1:0]);e.focus()});this.blurEvent(this.inputField,this.label,"submit")},value:function(){return this.inputField.prop("checked")?1:0},displayValue:function(c){return this.choices[c?1:0]}};
